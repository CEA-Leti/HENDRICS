(function(){var __webpack_modules__={21705:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57658),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(49199),_data_tracker_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(61849),vuex__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(87139);__webpack_exports__.Z={name:"DBUITemplate",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(props){const methods={};return props.props.methods&&Object.entries(props.props.methods).forEach(((entry,index)=>{const key=entry[0],value=entry[1];eval("methods[key] = "+value)})),(0,_data_tracker_js__WEBPACK_IMPORTED_MODULE_2__.f)(props.id),()=>(0,vue__WEBPACK_IMPORTED_MODULE_1__.h)({props:["id","props"],inject:["$socket"],errorCaptured:(e,t,s)=>(console.error("errorCaptured",e,t,s),!1),head(){console.log("head",this.props);let e=this.props||props;e.props&&(e=e.props);const t={};if(!e||"local"===e.templateScope){if(!e.head)return{};Array.isArray(e.head)&&e.head.length>0&&e.head.forEach((s=>{s.data&&(t[s.type]=t[s.type]||[],s.data["data-template-name"]=e.name,s.data["data-template-scope"]=e.templateScope,s.data["data-template-id"]=this.id,t[s.type].push(s.data))}))}return!e.format||"page:style"!==e.templateScope&&"site:style"!==e.templateScope||(t.style=[{innerHTML:e.format,"data-template-name":e.name,"data-template-scope":e.templateScope,"data-template-id":this.id}]),t},template:"local"!==props.props.templateScope?void 0:props.props.format,computed:{...(0,vuex__WEBPACK_IMPORTED_MODULE_3__.rn)("data",["messages"]),msg(){return this.messages[this.id]||{}}},methods:{send(e){this.$parent.send(this,e)},submit(e){this.$parent.submit(this,e)},...methods},mounted(){this.props.onInput&&eval(`this.$socket.on('msg-input:${this.id}', ${this.props.onInput})`),this.props.onMounted&&eval(`const onMounted = ${this.props.onMounted}; onMounted();`)},unmounted(){this.props.onInput&&this.$socket.off(`msg-input:${this.id}`)}},{id:props.id,props:props.props})},errorCaptured:(e,t,s)=>(console.error("errorCaptured",e,t,s),!1),methods:{send(e,t){t._dashboard=t._dashboard||{},t._dashboard.sourceId=e.id,t._dashboard.templateId=this.id,this.$socket.emit("widget-action",this.id,t)},submit(e,t){const s=new FormData(t.target),a={topic:t.type,payload:Object.fromEntries(s.entries())};a._dashboard=a._dashboard||{},a._dashboard.sourceId=e.id,a._dashboard.templateId=this.id,this.$socket.emit("widget-action",this.id,a)}}}},54283:function(e,t,s){"use strict";s(62062);var a=s(81665),i=s(60991),o=s(49199);function r(e,t,s,a,i,r){const n=(0,o.up)("router-view"),l=(0,o.up)("v-app");return(0,o.wg)(),(0,o.j4)(l,null,{default:(0,o.w5)((()=>[(0,o.Wm)(n)])),_:1})}s(57658);var n=s(87139);const l={key:0,class:"nrdb-layout--flex"},p=["id"],d=["id"];function u(e,t,s,a,i,r){const n=(0,o.up)("v-card"),u=(0,o.up)("BaselineLayout");return(0,o.wg)(),(0,o.j4)(u,{id:"nrdb-page-"+e.$route.meta.id,"page-title":e.$route.meta.title,class:"nrdb-ui-page"},{default:(0,o.w5)((()=>[r.orderedGroups?((0,o.wg)(),(0,o.iD)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.orderedGroups,(t=>((0,o.wg)(),(0,o.iD)("div",{id:"nrdb-ui-group-"+t.id,key:t.id,class:(0,o.C_)(["nrdb-ui-group",r.getGroupClass(t)]),style:(0,o.j5)({width:2*i.rowHeight*t.width+"px"})},[(0,o.Wm)(n,{variant:"outlined",class:"bg-group-background",style:(0,o.j5)({"min-height":i.rowHeight*t.height+"px"})},(0,o.Nv)({text:(0,o.w5)((()=>[(0,o._)("div",{class:"nrdb-group-widgets nr-db-layout-group--grid",style:(0,o.j5)(`grid-template-columns: repeat(${t.width}, 1fr); grid-template-rows: repeat(${t.height}, minmax(${i.rowHeight}px, auto)); `)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.widgetsByGroup(t.id),(e=>((0,o.wg)(),(0,o.iD)("div",{id:"nrdb-ui-widget-"+e.id,key:e.id,class:(0,o.C_)(["nrdb-ui-widget",r.getWidgetClass(e)]),style:(0,o.j5)([{display:"grid"},`grid-template-rows: repeat(${e.props.height}, minmax(${i.rowHeight}px, auto)); grid-column-end: span ${e.props.width||t.width}`])},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.component),{id:e.id,props:e.props,state:e.state,style:(0,o.j5)(`grid-row-end: span ${e.props.height}`)},null,8,["id","props","state","style"]))],14,d)))),128))],4)])),_:2},[t.disp?{name:"title",fn:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(t.name),1)])),key:"0"}:void 0]),1032,["style"])],14,p)))),128))])):(0,o.kq)("",!0)])),_:1},8,["id","page-title"])}const c={class:"nrdb-layout-overlay"};function h(e,t,s,a,i,r){const n=(0,o.up)("v-app-bar-nav-icon"),l=(0,o.up)("v-app-bar-title"),p=(0,o.up)("v-app-bar"),d=(0,o.up)("v-list-item"),u=(0,o.up)("v-list"),h=(0,o.up)("v-navigation-drawer"),m=(0,o.up)("v-main"),g=(0,o.up)("v-app");return(0,o.wg)(),(0,o.j4)(g,{class:"nrdb-app nrdb-app--baseline"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.siteTemplates(e.$route.meta.dashboard),(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,style:{display:"none"}},[(0,o.Uk)(" Loaded site template '"+(0,o.zw)(e.id)+"' ",1),((0,o.wg)(),(0,o.j4)((0,o.LL)(e.component),{id:e.id,props:e.props,state:e.state},null,8,["id","props","state"]))])))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.pageTemplates(e.$route.meta.id),(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id,style:{display:"none"}},[(0,o.Uk)(" Loaded site template '"+(0,o.zw)(e.id)+"' ",1),((0,o.wg)(),(0,o.j4)((0,o.LL)(e.component),{id:e.id,props:e.props,state:e.state},null,8,["id","props","state"]))])))),128)),(0,o.Wm)(p,{elevation:1},{prepend:(0,o.w5)((()=>[(0,o.Wm)(n,{onClick:t[0]||(t[0]=e=>i.drawer=!i.drawer)})])),default:(0,o.w5)((()=>[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(s.pageTitle),1)])),_:1})])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:i.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>i.drawer=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{nav:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.orderedPages,(e=>((0,o.wg)(),(0,o.j4)(d,{key:e.id,"active-class":"v-list-item--active","prepend-icon":"mdi-home",title:`${e.name} (${e.route.path})`,to:{name:e.route.name},link:""},null,8,["title","to"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,o.WI)(e.$slots,"default",{class:"nrdb-layout"}),(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.uiWidgets,(e=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.component),{id:e.id,key:e.id,props:e.props,state:e.state},null,8,["id","props","state"])))),128))])])),_:3})])),_:3})}function m(e){const t=parseInt(e.replace("#",""),16),s=t>>16&255,a=t>>8&255,i=255&t;return[s,a,i]}function g(e){const t=m(e),s=Math.round((299*parseInt(t[0])+587*parseInt(t[1])+114*parseInt(t[2]))/1e3),a=s>125?"#000000":"#ffffff";return a}var _={name:"BaslineLayout",props:{pageTitle:{type:String,default:"Page Title Here"}},data(){return{drawer:!1}},computed:{...(0,n.rn)("ui",["pages","themes","pageData","widgets"]),...(0,n.Se)("ui",["siteTemplates","pageTemplates"]),theme:function(){const e=this.pages[this.$route.meta.id],t=this.themes[e.theme].colors;return t},orderedPages:function(){return Object.values(this.pages).sort(((e,t)=>e.order-t.order))},uiWidgets:function(){const e=Object.values(this.widgets).filter((e=>Object.hasOwn(e.props,"ui")));return console.log(e),e}},watch:{theme:function(){this.updateTheme()}},mounted(){console.log("BaselineLayout mounted. siteTemplates:",this.siteTemplates(this.$route.meta.dashboard),"pageTemplates:",this.pageTemplates(this.$route.meta.id)),this.updateTheme()},methods:{go:function(e){this.$router.push({name:e})},updateTheme(){const e=this.$vuetify.theme.themes.nrdb.colors;e.surface=this.theme.surface,e.primary=this.theme.primary,e["on-primary"]=g(this.theme.primary),e.background=this.theme.bgPage,e["group-background"]=this.theme.groupBg,e["group-outline"]=this.theme.groupOutline}}},w=s(40089);const b=(0,w.Z)(_,[["render",h]]);var f=b,y={name:"LayoutFlex",components:{BaselineLayout:f},data(){return{rowHeight:45}},computed:{...(0,n.rn)("ui",["groups","widgets"]),...(0,n.rn)("data",["properties"]),...(0,n.Se)("ui",["groupsByPage","widgetsByGroup"]),orderedGroups:function(){const e=this.groupsByPage(this.$route.meta.id);return e}},methods:{getWidgetClass(e){const t=[];t.push(`nrdb-${e.type}`);const s=this.properties[e.id];return e.props.className&&t.push(e.props.className),s&&s.class&&t.push(s.class),t.join(" ")},getGroupClass(e){const t=[];e.className&&t.push(e.className);const s=this.properties[e.id];return s&&s.class&&t.push(s.class),t.join(" ")}}};const v=(0,w.Z)(y,[["render",u],["__scopeId","data-v-8b514458"]]);var k=v;const j={key:0,class:"nrdb-layout--grid"},$=["id"],x=["id"];function D(e,t,s,a,i,r){const n=(0,o.up)("v-card"),l=(0,o.up)("BaselineLayout");return(0,o.wg)(),(0,o.j4)(l,{id:"nrdb-page-"+e.$route.meta.id,"page-title":e.$route.meta.title,class:"nrdb-ui-page"},{default:(0,o.w5)((()=>[r.gridGroups?((0,o.wg)(),(0,o.iD)("div",j,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.gridGroups,(t=>((0,o.wg)(),(0,o.iD)("div",{id:"nrdb-ui-group-"+t.id,key:t.id,class:(0,o.C_)(["nrdb-ui-group",r.getGroupClass(t)]),style:(0,o.j5)(`grid-column-end: span ${t.width}`)},[(0,o.Wm)(n,{variant:"outlined",class:"bg-group-background"},(0,o.Nv)({text:(0,o.w5)((()=>[(0,o._)("div",{class:"nrdb-group-widgets nr-db-layout-group--grid",style:(0,o.j5)(`grid-template-columns: repeat(${t.width}, 1fr); grid-template-rows: repeat(${t.height}, minmax(${i.rowHeight}, auto)); `)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.widgetsByGroup(t.id),(e=>((0,o.wg)(),(0,o.iD)("div",{id:"nrdb-ui-widget-"+e.id,key:e.id,class:(0,o.C_)(["nrdb-ui-widget",r.getWidgetClass(e)]),style:(0,o.j5)([{display:"grid"},`grid-template-rows: repeat(${e.props.height}, minmax(${i.rowHeight}px, auto)); grid-column-end: span ${e.props.width||t.width}`])},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.component),{id:e.id,props:e.props,state:e.state,style:(0,o.j5)(`grid-row-end: span ${e.props.height}`)},null,8,["id","props","state","style"]))],14,x)))),128))],4)])),_:2},[t.disp?{name:"title",fn:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(t.name),1)])),key:"0"}:void 0]),1024)],14,$)))),128))])):(0,o.kq)("",!0)])),_:1},8,["id","page-title"])}var O={name:"LayoutGrid",components:{BaselineLayout:f},data(){return{columns:12,rowHeight:48}},computed:{...(0,n.rn)("ui",["groups","widgets"]),...(0,n.rn)("data",["properties"]),...(0,n.Se)("ui",["groupsByPage","widgetsByGroup"]),gridGroups:function(){const e=this.groupsByPage(this.$route.meta.id);return e}},methods:{getWidgetClass(e){const t=[];t.push(`nrdb-${e.type}`);const s=this.properties[e.id];return e.props.className&&t.push(e.props.className),s&&s.class&&t.push(s.class),t.join(" ")},getGroupClass(e){const t=[];e.className&&t.push(e.className);const s=this.properties[e.id];return s&&s.class&&t.push(s.class),t.join(" ")}}};const C=(0,w.Z)(O,[["render",D],["__scopeId","data-v-3861f410"]]);var T=C;const q={key:0,class:"nrdb-layout--notebook"},I=["id"],E=["id"];function V(e,t,s,a,i,r){const n=(0,o.up)("v-card"),l=(0,o.up)("BaselineLayout");return(0,o.wg)(),(0,o.j4)(l,{"page-title":e.$route.meta.title},{default:(0,o.w5)((()=>[r.orderedGroups?((0,o.wg)(),(0,o.iD)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.orderedGroups,(t=>((0,o.wg)(),(0,o.iD)("div",{id:"nrdb-ui-group-"+t.id,key:t.id,class:(0,o.C_)(["nrdb-ui-group",r.getGroupClass(t)])},[(0,o.Wm)(n,{variant:"outlined",class:"bg-group-background",style:(0,o.j5)({"min-height":i.rowHeight*t.height+"px"})},(0,o.Nv)({text:(0,o.w5)((()=>[(0,o._)("div",{class:"nr-db-layout-group--grid",style:(0,o.j5)(`grid-template-columns: repeat(${t.width}, 1fr); grid-template-rows: repeat(${t.height}, minmax(${i.rowHeight}px, auto)); `)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.widgetsByGroup(t.id),(e=>((0,o.wg)(),(0,o.iD)("div",{id:"nrdb-ui-widget-"+e.id,key:e.id,class:(0,o.C_)(["nrdb-ui-widget",r.getWidgetClass(e)]),style:(0,o.j5)([{display:"grid"},`grid-template-rows: repeat(${e.props.height}, minmax(${i.rowHeight}px, auto)); grid-column-end: span ${e.props.width||t.width}`])},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.component),{id:e.id,props:e.props,state:e.state,style:(0,o.j5)(`grid-row-end: span ${e.props.height}`)},null,8,["id","props","state","style"]))],14,E)))),128))],4)])),_:2},[t.disp?{name:"title",fn:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(t.name),1)])),key:"0"}:void 0]),1032,["style"])],10,I)))),128))])):(0,o.kq)("",!0)])),_:1},8,["page-title"])}var B={name:"LayoutFlex",components:{BaselineLayout:f},data(){return{rowHeight:45}},computed:{...(0,n.rn)("ui",["groups","widgets"]),...(0,n.rn)("data",["properties"]),...(0,n.Se)("ui",["groupsByPage","widgetsByGroup"]),orderedGroups:function(){const e=this.groupsByPage(this.$route.meta.id);return e}},methods:{getWidgetClass(e){const t=[];t.push(`nrdb-${e.type}`);const s=this.properties[e.id];return e.props.className&&t.push(e.props.className),s&&s.class&&t.push(s.class),t.join(" ")},getGroupClass(e){const t=[];e.className&&t.push(e.className);const s=this.properties[e.id];return s&&s.class&&t.push(s.class),t.join(" ")}}};const U=(0,w.Z)(B,[["render",V],["__scopeId","data-v-c21260d8"]]);var S=U,P={flex:k,grid:T,notebook:S};function M(e,t,s,a,i,r){const n=(0,o.up)("v-btn");return(0,o.wg)(),(0,o.j4)(n,{block:"",variant:"flat",disabled:!s.state.enabled,onClick:r.action},{default:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(s.props.label),1)])),_:1},8,["disabled","onClick"])}var L=s(61849),A={name:"DBUIButton",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})},state:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},computed:{...(0,n.rn)("data",["messages"])},methods:{action(e){console.log("button clicked",e);const t={type:e.type,clientX:e.clientX,clientY:e.clientY,bbox:e.target.getBoundingClientRect()},s=this.messages[this.id]||{};s._event=t,this.$socket.emit("widget-action",this.id,s)}}};const N=(0,w.Z)(A,[["render",M]]);var H=N;function W(e,t,s,a,i,r){const n=(0,o.up)("v-combobox");return(0,o.wg)(),(0,o.j4)(n,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.value=e),r.onChange],class:(0,o.C_)(e.className),label:s.props.label,multiple:s.props.multiple,items:s.props.options,"item-title":"label","item-value":"value",variant:"outlined","hide-details":"auto","error-messages":s.props.options?.length?"":"No options available"},null,8,["modelValue","class","label","multiple","items","error-messages","onUpdate:modelValue"])}var R={name:"DBUIDropdown",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},data(){return{value:null}},computed:{...(0,n.rn)("data",["messages"])},created(){(0,L.f)(this.id,(e=>{let t=e.payload;Array.isArray(t)||(t=[t]),t=this.props.multiple?this.props.options.filter((e=>t.includes(e.value))):this.props.options.find((e=>e.value===t[0])),t&&(this.$store.commit("data/bind",{widgetId:this.id,msg:e}),this.value=t)})),this.$socket.emit("widget-load",this.id)},methods:{onChange(){const e=this.messages[this.id]||{};this.props.multiple?e.payload=this.value.map((e=>e.value)):this.value?e.payload=this.value.value:e.payload=null,this.$store.commit("data/bind",e),this.$socket.emit("widget-change",this.id,e.payload)}}};const G=(0,w.Z)(R,[["render",W]]);var K=G;const z={key:0},Z={key:1,class:"nrdb-table-nodata"},Y=["colspan"];function F(e,t,s,a,i,r){const n=(0,o.up)("v-table"),l=(0,o.up)("v-pagination");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{class:"nrdb-table"},{default:(0,o.w5)((()=>[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t,class:"text-left"},(0,o.zw)(e.label),1)))),128))])]),r.rows?((0,o.wg)(),(0,o.iD)("tbody",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.pagination.rows,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.columns,((t,s)=>((0,o.wg)(),(0,o.iD)("td",{key:s},(0,o.zw)(e[t.key]),1)))),128))])))),128))])):((0,o.wg)(),(0,o.iD)("tbody",Z,[(0,o._)("tr",null,[(0,o._)("td",{colspan:r.columns.length},"No Data",8,Y)])]))])),_:1}),r.rows&&s.props.maxrows>0?((0,o.wg)(),(0,o.j4)(l,{key:0,modelValue:i.pagination.page,"onUpdate:modelValue":t[0]||(t[0]=e=>i.pagination.page=e),length:i.pagination.pages,rounded:"0"},null,8,["modelValue","length"])):(0,o.kq)("",!0)])}var X={name:"DBUITable",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},data(){return{input:{},isValid:null,pagination:{page:1,pages:0,rows:[]}}},computed:{...(0,n.rn)("data",["messages"]),columns(){if(this.props.autocols){if(this.messages[this.id]?.payload){const e=[];for(const t of this.messages[this.id].payload)Object.keys(t).forEach((t=>{e.includes(t)||e.push(t)}));return e.map((e=>({key:e,label:e})))}return[{key:"",label:""}]}return this.props.columns?this.props.columns:[{key:"",label:""}]},rows(){return this.messages[this.id]?.payload?this.messages[this.id].payload:void 0}},watch:{rows:{handler(){this.calculatePaginatedRows()}},"pagination.page":{handler(){this.calculatePaginatedRows()}},"props.maxrows":{handler(){this.calculatePaginatedRows()}}},mounted(){this.calculatePaginatedRows()},methods:{calculatePaginatedRows(){console.log("calculatePaginatedRows",this.pagination.page,this.props.maxrows),this.props.maxrows>0?(this.pagination.pages=Math.ceil(this.rows?.length/this.props.maxrows),this.pagination.rows=this.rows?.slice((this.pagination.page-1)*this.props.maxrows,this.pagination.page*this.props.maxrows),console.log("updated",this.pagination.pages,this.pagination.rows)):(this.pagination.page=1,this.pagination.pages=0,this.pagination.rows=this.rows)}}};const J=(0,w.Z)(X,[["render",F]]);var Q=J;const ee={key:0,class:"nrdb-ui-form-label"},te={class:"nrdb-ui-form-actions"};function se(e,t,s,a,i,r){const n=(0,o.up)("v-checkbox"),l=(0,o.up)("v-switch"),p=(0,o.up)("v-textarea"),d=(0,o.up)("v-text-field"),u=(0,o.up)("v-btn"),c=(0,o.up)("v-form");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s.props.label?((0,o.wg)(),(0,o.iD)("label",ee,(0,o.zw)(s.props.label),1)):(0,o.kq)("",!0),(0,o.Wm)(c,{modelValue:i.isValid,"onUpdate:modelValue":t[0]||(t[0]=e=>i.isValid=e),onSubmit:(0,o.iM)(r.onSubmit,["prevent"])},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,o.C_)(["nrdb-ui-form-rows",{"nrdb-ui-form-rows--split":s.props.splitLayout}])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.props.options,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.key,class:"nrdb-ui-form-row"},["checkbox"===t.type?((0,o.wg)(),(0,o.j4)(n,{key:0,modelValue:i.input[t.key],"onUpdate:modelValue":e=>i.input[t.key]=e,label:t.label,"hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue","label"])):"switch"===t.type?((0,o.wg)(),(0,o.j4)(l,{key:1,modelValue:i.input[t.key],"onUpdate:modelValue":e=>i.input[t.key]=e,class:(0,o.C_)(["nrdb-ui-widget",{active:e.state}]),label:t.label,"hide-details":"auto",color:"primary"},null,8,["modelValue","onUpdate:modelValue","label","class"])):"multiline"===t.type?((0,o.wg)(),(0,o.j4)(p,{key:2,modelValue:i.input[t.key],"onUpdate:modelValue":e=>i.input[t.key]=e,rules:r.rules(t),class:"nrdb-ui-widget nrdb-ui-text-field",rows:t.rows,label:t.label,variant:"outlined","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue","rules","rows","label"])):((0,o.wg)(),(0,o.j4)(d,{key:3,modelValue:i.input[t.key],"onUpdate:modelValue":e=>i.input[t.key]=e,rules:r.rules(t),class:"nrdb-ui-widget nrdb-ui-text-field",label:t.label,type:t.type,variant:"outlined","hide-details":"auto"},null,8,["modelValue","onUpdate:modelValue","rules","label","type"]))])))),128))],2),(0,o._)("div",te,[(0,o.Wm)(u,{type:"submit",variant:"flat",size:"large",disabled:!i.isValid},{default:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(s.props.submit||"submit"),1)])),_:1},8,["disabled"]),s.props.cancel?((0,o.wg)(),(0,o.j4)(u,{key:0,variant:"outlined",size:"large",onClick:r.clear},{default:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(s.props.cancel),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0)])])),_:1},8,["modelValue","onSubmit"])],64)}var ae={name:"DBUIForm",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},data(){return{input:{},isValid:null}},computed:{...(0,n.rn)("data",["messages"])},mounted(){this.reset()},methods:{onSubmit:function(){this.$socket.emit("widget-action",this.id,{payload:this.input}),this.props.resetOnSubmit&&this.reset()},clear(){this.reset()},reset(){this.props.options.forEach((e=>{"check"===e.type||"switch"===e.type?this.input[e.key]=!1:"number"===e.type?this.input[e.key]=0:this.input[e.key]=""}))},rules(e){return e.required?[t=>(console.log("v",t),!!t||e.label+" is required")]:[]}}};const ie=(0,w.Z)(ae,[["render",se]]);var oe=ie;function re(e,t,s,a,i,r){return(0,o.wg)(),(0,o.iD)("canvas",{ref:"chart",class:(0,o.C_)(e.className)},null,2)}var ne=s(96170),le=(s(66029),{name:"DBUIChart",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},data(){return{chart:null}},computed:{...(0,n.rn)("data",["messages"])},watch:{"props.label":function(e){this.chart.options.plugins.title.text=e,this.chart.update()},"props.chartType":function(e){this.chart.config.type=e,this.chart.update()},"props.xAxisType":function(e){this.chart.options.scales.x.type=e,this.chart.update()}},created(){(0,L.f)(this.id,this.onMsgInput)},mounted(){const e=this.$refs.chart,t=new ne.kL(e,{type:this.props.chartType,data:{labels:[],datasets:[]},options:{animation:!1,maintainAspectRatio:!1,borderJoinStyle:"round",scales:{x:{type:this.props.xAxisType||"linear",time:{displayFormats:{millisecond:"HH:mm:ss"}}},y:{beginAtZero:!0}},plugins:{title:{display:!0,text:this.props.label},legend:{display:!1}}}});this.chart=(0,o.XI)(t)},methods:{onMsgInput(e){Array.isArray(e.payload)&&!e.payload.length?this.clear():this.add(e)},clear(){this.chart.data.labels=[],this.chart.data.datasets=[],this.chart.update()},add(e){const t=e.payload;if(Array.isArray(e)&&e.length>0)e.forEach((e=>{const t=e.topic,s=e.payload,a=e._datapoint;this.addPoint(s,a,t)}));else if(Array.isArray(t)&&e.payload.length>0)t.forEach(((t,s)=>{const a=e.topic,i=e._datapoint[s];this.addPoint(t,i,a)}));else if(null!==t&&void 0!==t){const t=e.topic,s=e._datapoint;this.addPoint(e,s,t)}else console.log("have no payload");"line"!==this.props.chartType&&"scatter"!==this.props.chartType||this.limitDataSize(),this.chart.update()},addPoint(e,t,s){if("line"===this.props.chartType||"scatter"===this.props.chartType){const e=t||{};this.addToLine(e,s)}else"bar"===this.props.chartType&&this.addToBar(e,s);this.$store.commit("data/append",{widgetId:this.id,msg:{payload:e,_datapoint:t,topic:s}})},addToLine(e,t){const s=[...new Set(this.chart.data.datasets?.map((e=>e.label)))],a=s?.indexOf(t);-1===a?this.chart.data.datasets.push({borderColor:this.props.colors[s.length],label:t,data:[e]}):this.chart.data.datasets[a].data.push(e)},addToBar(e,t){if(t=t||"","number"===typeof e)if(this.chart.data.labels.includes(t)){const s=this.chart.data.labels.indexOf(t);this.chart.data.datasets[0].data[s]=e}else this.chart.data.datasets.length||this.chart.data.datasets.push({data:[],backgroundColor:this.props.colors,borderColor:this.props.colors}),this.chart.data.datasets[0].data.push(e),this.chart.data.labels.push(t);else console.log("Unsupported payload type for Bar Chart:",typeof e)},limitDataSize(){let e=null,t=null;if("time"===this.props.xAxisType&&this.props.removeOlder&&this.props.removeOlderUnit){const t=parseFloat(this.props.removeOlder),s=parseFloat(this.props.removeOlderUnit),a=t*s*1e3;e=(new Date).getTime()-a}if(this.props.removeOlderPoints&&(t=parseInt(this.props.removeOlderPoints)),t&&this.chart.data.datasets.length>0)for(let s=0;s<this.chart.data.datasets.length;s++){const a=this.chart.data.datasets[s].data.length;this.chart.data.datasets[s].data=this.chart.data.datasets[s].data.filter(((s,i)=>!(e&&s.x<e)&&!(i<a-t)))}this.$store.commit("data/restrict",{widgetId:this.id,min:e,points:t})}}});const pe=(0,w.Z)(le,[["render",re]]);var de=pe;function ue(e,t,s,a,i,r){const n=(0,o.up)("v-radio"),l=(0,o.up)("v-radio-group");return(0,o.wg)(),(0,o.j4)(l,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),class:(0,o.C_)(["nrdb-ui-radio-group","nrdb-ui-radio-group--cols-"+s.props.columns+" "+e.className]),label:r.label,variant:"outlined","hide-details":"auto"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.props.options,(e=>((0,o.wg)(),(0,o.j4)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","class","label"])}var ce={name:"DBUIRadioGroup",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},computed:{...(0,n.rn)("data",["messages"]),label:function(){return this.props.label},value:{get(){return this.messages[this.id]?.payload},set(e){if(this.value===e)return;const t=this.messages[this.id]||{};t.payload=e,this.messages[this.id]=t,this.$socket.emit("widget-change",this.id,e)}}}};const he=(0,w.Z)(ce,[["render",ue]]);var me=he;function ge(e,t,s,a,i,r){const n=(0,o.up)("v-slider");return(0,o.wg)(),(0,o.j4)(n,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),label:s.props.label,"hide-details":"auto",class:(0,o.C_)(e.className),"thumb-label":s.props.thumbLabel||!1,min:s.props.min,max:s.props.max,step:s.props.step||1},null,8,["modelValue","label","class","thumb-label","min","max","step"])}var _e={name:"DBUISlider",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},data(){return{value:null}},computed:{...(0,n.rn)("data",["messages"]),storeValue:function(){return this.messages[this.id]?.payload}},watch:{storeValue:function(e,t){this.value!==e&&(this.value=e)},value:function(e,t){this.storeValue!==e&&this.onChange()}},methods:{onChange(){const e=this.messages[this.id]||{};e.payload=this.value,this.$store.commit("data/bind",e),this.$socket.emit("widget-change",this.id,this.value)}}};const we=(0,w.Z)(_e,[["render",ge]]);var be=we;const fe={key:0,class:"v-label"};function ye(e,t,s,a,i,r){const n=(0,o.up)("v-switch"),l=(0,o.up)("v-btn");return(0,o.wg)(),(0,o.iD)("div",{class:(0,o.C_)(["nrdb-switch",{"nrdb-nolabel":!s.props.label,[e.className]:!!e.className}])},[s.props.label?((0,o.wg)(),(0,o.iD)("label",fe,(0,o.zw)(s.props.label),1)):(0,o.kq)("",!0),r.icon?((0,o.wg)(),(0,o.j4)(l,{key:2,variant:"text",icon:r.icon,color:r.color,onClick:r.toggle},null,8,["icon","color","onClick"])):((0,o.wg)(),(0,o.j4)(n,{key:1,modelValue:r.state,"onUpdate:modelValue":t[0]||(t[0]=e=>r.state=e),class:(0,o.C_)({active:r.state}),"hide-details":"auto",color:"primary",onClick:r.onChange},null,8,["modelValue","class","onClick"]))],2)}var ve={name:"DBUISwitch",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},computed:{...(0,n.rn)("data",["messages"]),icon:function(){if(this.props.onicon&&this.props.officon){const e=this.state?this.props.onicon:this.props.officon;return"mdi-"+e}return null},color:function(){return this.props.oncolor||this.props.offcolor?this.state?this.props.oncolor:this.props.offcolor:null},value:function(){return this.messages[this.id]?.payload},state:{get(){const e=this.value;return"boolean"===typeof e?e:this.props.evaluated?e===this.props.evaluated.on:this.value},set(e){const t=this.messages[this.id]||{};t.payload=e,this.messages[this.id]=t}}},methods:{onChange(){this.$socket.emit("widget-change",this.id,!this.value)},toggle(){this.state=!this.state,this.$socket.emit("widget-change",this.id,this.state)}}};const ke=(0,w.Z)(ve,[["render",ye]]);var je=ke;const $e={key:0,class:"nrdb-ui-notification-countdown"},xe={key:1},De=["innerHTML"];function Oe(e,t,s,a,i,r){const n=(0,o.up)("v-progress-linear"),l=(0,o.up)("v-btn"),p=(0,o.up)("v-snackbar");return(0,o.wg)(),(0,o.j4)(p,{modelValue:i.show,"onUpdate:modelValue":t[1]||(t[1]=e=>i.show=e),class:"nrdb-ui-notification",vertical:"","multi-line":"",timeout:-1,location:s.props.position},(0,o.Nv)({default:(0,o.w5)((()=>[s.props.showCountdown?((0,o.wg)(),(0,o.iD)("div",$e,[(0,o.Wm)(n,{modelValue:i.countdown,"onUpdate:modelValue":t[0]||(t[0]=e=>i.countdown=e),color:"primary",style:{display:"block",width:"100%"}},null,8,["modelValue"])])):(0,o.kq)("",!0),s.props.raw?((0,o.wg)(),(0,o.iD)("div",{key:2,innerHTML:r.value},null,8,De)):((0,o.wg)(),(0,o.iD)("div",xe,(0,o.zw)(r.value),1))])),_:2},[s.props.allowDismiss?{name:"actions",fn:(0,o.w5)((()=>[(0,o.Wm)(l,{variant:"text",onClick:r.close},{default:(0,o.w5)((()=>[(0,o.Uk)((0,o.zw)(s.props.dismissText||"Close"),1)])),_:1},8,["onClick"])])),key:"0"}:void 0]),1032,["modelValue","location"])}var Ce={name:"DBUINotification",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},data(){return{show:!1,tik:0,countdown:0,timeouts:{close:null,step:null}}},computed:{...(0,n.rn)("data",["messages"]),value:function(){return this.messages[this.id]?.payload}},created(){(0,L.f)(this.id,this.onMsgInput)},methods:{onMsgInput(e){this.$store.commit("data/bind",{widgetId:this.id,msg:e}),this.show=!0,this.props.displayTime>0&&this.startCountdown(1e3*this.props.displayTime)},startCountdown(e){this.tik=(new Date).getTime(),this.timeouts.close=setTimeout((()=>{this.close()}),e),this.timeouts.step=setInterval((()=>{const e=(new Date).getTime(),t=(e-this.tik)/1e3;this.countdown=100-t/parseFloat(this.props.displayTime)*100}),100)},close(){this.show=!1,clearTimeout(this.timeouts.close),clearInterval(this.timeouts.step),this.tik=null,this.timeouts.close=null,this.timeouts.step=null}}};const Te=(0,w.Z)(Ce,[["render",Oe],["__scopeId","data-v-383bbe60"]]);var qe=Te,Ie=s(3617),Ee=s.n(Ie),Ve=s(15792),Be=(s(61657),s(45068)),Ue=s(40370),Se=s(96016);const Pe={securityLevel:"loose",startOnLoad:!1,class:"mermaid",flowchart:{curve:"linear"},darkMode:!1};Ue.N.initialize(Pe);const Me={name:"code",renderer(e){const{lang:t,text:s}=e;if("mermaid"===t)return`<pre class="mermaid">${s}</pre>`;const a=Ve.Z.getLanguage(t)?t:"plaintext",i=` class="hljs language-${(0,Se.escapeHTML)(a)}"`,o=s.replace(/\n$/,""),r=Ve.Z.highlight(o,{language:a}).value;return`<pre><code class="hljs language-${i}">${r}\n</code></pre>`}};Be.TU.use({extensions:[Me]});var Le={name:"DBUIMarkdown",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id);const t=e.props.content.replace(/\|\|/g,"mdORmd");let s=Be.TU.parse(t);return s=s.replaceAll("mdORmd","||"),()=>(0,o.h)({props:["id","props"],errorCaptured:(e,t,s)=>(console.error("errorCaptured",e,t,s),!1),template:`<div ref="markdown" class="nrdb-ui-markdown-content">${Ee().sanitize(s)}</div>`,computed:{...(0,n.rn)("data",["messages"]),...(0,n.Se)("data",["getMsgProperty"]),msg(){return this.messages[this.id]&&this.renderMermaid(),this.messages[this.id]||{}}},mounted(){this.renderMermaid()},methods:{get(e,t){return this.getMsgProperty(this.id,e,t)},renderMermaid(){this.$refs.markdown?.querySelector(".mermaid")?.removeAttribute("data-processed"),this.$nextTick((()=>{Ue.N.run({querySelector:".mermaid",suppressErrors:!0})}))}}},{id:e.id,props:e.props})},computed:{...(0,n.rn)("data",["messages"])},errorCaptured:(e,t,s)=>(console.error("errorCaptured",e,t,s),!1)};const Ae=Le;var Ne=Ae,He=s(21705);const We=He.Z;var Re=We;const Ge={class:"nrdb-ui-text-label"},Ke={class:"nrdb-ui-text-value"};function ze(e,t,s,a,i,r){return(0,o.wg)(),(0,o.iD)("div",{style:(0,o.j5)(s.props.style)},[(0,o._)("label",Ge,(0,o.zw)(s.props.label),1),(0,o._)("span",Ke,(0,o.zw)(null!==r.value?r.value:"No Message Received"),1)],4)}var Ze={name:"DBUIText",props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},computed:{...(0,n.rn)("data",["messages","properties"]),value:function(){return this.messages[this.id]?.payload}}};const Ye=(0,w.Z)(Ze,[["render",ze],["__scopeId","data-v-14b9f4fa"]]);var Fe=Ye;function Xe(e,t,s,a,i,r){const n=(0,o.up)("v-text-field"),l=(0,o.up)("v-textarea");return"textarea"!==r.type?((0,o.wg)(),(0,o.j4)(n,{key:0,modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),class:"nrdb-ui-text-field",label:r.label,type:r.type,rules:r.validation,variant:"outlined","hide-details":"auto",onBlur:r.onBlur},null,8,["modelValue","label","type","rules","onBlur"])):((0,o.wg)(),(0,o.j4)(l,{key:1,modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),class:"nrdb-ui-text-field",label:r.label,variant:"outlined","hide-details":"auto",onBlur:r.onBlur},null,8,["modelValue","label","onBlur"]))}var Je={name:"DBUIText",inject:["$socket"],props:{id:{type:String,required:!0},props:{type:Object,default:()=>({})}},setup(e){(0,L.f)(e.id)},computed:{...(0,n.rn)("data",["messages"]),label:function(){return this.props.label},type:function(){return this.props.mode||"text"},value:{get(){return this.messages[this.id]?.payload},set(e){if(this.value===e)return;const t=this.messages[this.id]||{};t.payload=e,this.messages[this.id]=t}},validation:function(){return"email"===this.type?[e=>!e||/^[^\s@]+@[^\s@]+$/.test(e)||"E-mail must be valid"]:[]}},methods:{onBlur:function(){this.$socket.emit("widget-change",this.id,this.value)}}};const Qe=(0,w.Z)(Je,[["render",Xe]]);var et=Qe,tt={"ui-button":H,"ui-dropdown":K,"ui-table":Q,"ui-form":oe,"ui-chart":de,"ui-radio-group":me,"ui-slider":be,"ui-switch":je,"ui-notification":qe,"ui-markdown":Ne,"ui-template":Re,"ui-text":Fe,"ui-text-input":et},st={name:"App",inject:["$socket"],computed:{...(0,n.rn)("ui",["dashboards","pages","widgets"])},created(){this.$socket.on("ui-config",((e,t)=>{console.log("ui-config received. topic:",e,"payload:",t),Object.values(t.pages).forEach((e=>{const s=t.dashboards[e.ui].path+e.path,a="Page:"+e.name;console.log("adding route",s),this.$router?.addRoute({path:s,name:a,component:P[e.layout],meta:{title:e.name,id:e.id,dashboard:e.ui}}),e.route={path:s,name:a},this.$router.push({name:a})})),Object.keys(t.widgets).forEach((e=>{const s=t.widgets[e];s.component=(0,o.Xl)(tt[s.type]||tt["ui-template"])})),this.$store.commit("ui/dashboards",t.dashboards),this.$store.commit("ui/pages",t.pages),this.$store.commit("ui/groups",t.groups),this.$store.commit("ui/widgets",t.widgets),this.$store.commit("ui/themes",t.themes)}))},methods:{send:function(){this.$socket.emit("widget-action","<node-id>","hello world")},go:function(e){this.$router.push({name:e})}}};const at=(0,w.Z)(st,[["render",r]]);var it=at,ot=s(79289),rt=s(22483);const nt=[],lt=(0,rt.p7)({history:(0,rt.PO)(),routes:nt});lt.beforeEach(((e,t,s)=>{e.meta.title?document.title=e.meta.title:document.title="Node-RED Dashboard 2.0",s()}));var pt=lt,dt=(s(29773),s(18727)),ut=s(73447),ct=s(48600);const ht=()=>({pages:null,groups:null,themes:null,widgets:null}),mt={pages(e){return e.pages},groups(e){return e.groups},themes(e){return e.themes},widgets(e){return e.widgets},groupsByPage:e=>t=>{if(e.groups){const s=Object.values(e.groups).filter((e=>e.page===t));return s.sort(((e,t)=>{const s=e.order||Number.MAX_SAFE_INTEGER,a=t.order||Number.MAX_SAFE_INTEGER;return s-a}))}},widgetsByGroup:e=>t=>{if(e.widgets){const s=Object.values(e.widgets).filter((e=>e.props.group===t&&!("ui-template"===e.type&&"local"!==e.props.templateScope)));return s.sort(((e,t)=>{const s=e.props?.order||Number.MAX_SAFE_INTEGER,a=t.props?.order||Number.MAX_SAFE_INTEGER;return s-a}))}},siteTemplates:e=>t=>{if(e.widgets){const s=Object.values(e.widgets).filter((e=>"ui-template"===e.type&&e.props.dashboard===t&&e.props.templateScope.match(/^site:/)));return s}},pageTemplates:e=>t=>{if(e.widgets){const s=Object.values(e.widgets).filter((e=>"ui-template"===e.type&&e.props.page===t&&e.props.templateScope.match(/^page:/)));return s}}},gt={pages(e,t){e.pages=t},groups(e,t){e.groups=t},themes(e,t){e.themes=t},widgets(e,t){e.widgets=t},widgetState(e,t){const s=t.widgetId;"enabled"in t&&(e.widgets[s].state.enabled=t.enabled),"visible"in t&&(e.widgets[s].state.visible=t.visible)}};var _t={namespaced:!0,state:ht,getters:mt,mutations:gt};const wt=()=>({values:{},messages:{},properties:{}}),bt={"ui-property:class":"class"},ft={bind(e,t){const s=t.widgetId;if("msg"in t){if(t.msg?.topic&&bt[t.msg.topic]&&(0,Se.hasProperty)(t.msg,"payload")){const a=bt[t.msg.topic];return e.properties[s]=e.properties[s]||{},void(e.properties[s][a]=t.msg.payload)}e.messages[s]=t.msg}},append(e,t){const s=t.widgetId;"msg"in t&&(e.messages[s]||(e.messages[s]=[]),e.messages[s].push(t.msg))},restrict(e,t){const s=t.widgetId;if("min"in t){const a=t.min;e.messages[s]=e.messages[s]?.filter((e=>e._datapoint.x>a))}if("points"in t){const a=t.points;e.messages[s]=e.messages[s]?.slice(-a)}}},yt={value:e=>t=>e.values[t],getMsgProperty:e=>(t,s,a)=>{const i=e.messages[t]||{};return(0,Se.getDeepValue)(i,s,a)}};var vt={namespaced:!0,state:wt,mutations:ft,getters:yt},kt=(0,n.MT)({modules:{ui:_t,data:vt},plugins:[]});const jt={dark:!1,colors:{background:"#0000ff","group-background":"#ffffff",primary:"#0000ff",accent:"#ff6b99",secondary:"#26ff8c",success:"#a5d64c",surface:"#ffffff",info:"#ff53d0",warning:"#ff8e00",error:"#ff5252"}},$t=(0,dt.Rd)({components:ut,directives:ct,theme:{defaultTheme:"nrdb",themes:{nrdb:jt}}}),xt=new URL(window.location.href),Dt=xt.pathname.split("/dashboard")[0],Ot=Dt+"/dashboard/socket.io",Ct=(0,ot.io)({path:Ot});Ct.on("disconnect",(e=>{console.log("SIO disconnected",e)})),Ct.on("connect",(()=>{console.log("SIO connected")})),Ct.on("connect_error",(e=>{console.log("SIO connect error:",e,e.data)}));const Tt=(0,o.ri)(it).use(kt).use($t).use(pt),qt=(0,a.c)();Tt.use(qt),Tt.mixin(i.Zf),Tt.provide("$socket",Ct),Tt.mount("#app")},96016:function(e,t,s){function a(e,t,s){if("undefined"===typeof e||null===e)return s;let a=!1,i=!1;const o="[",r="]",n=['"',"'"];let l=[],p=0,d=[],u="",c="";const h=()=>{d.length>0&&(l[p]=[d.join("")]),p++,d.length=0};for(let m=0,g=t.length;m<g;m++){const e=t.charAt(m);l[p]=l[p]||[],d=l[p],a?e===r?(a=!1,h()):d.push(e):i?e===c&&"\\"!==u?(i=!1,h()):d.push(e):n.includes(e)?(c=e,i=!0,h()):e===o?(a=!0,h()):"."===e?h():d.push(e),u=e}d.length>0&&(l[p]=[d.join("")]),l=l.flat();for(let m=0,g=l.length;m<g;m++){if(!l[m])continue;const e=l[m].charAt(0),t=l[m].charAt(l[m].length-1);'"'!==e&&"'"!==e||'"'!==t&&"'"!==t||e!==t||(l[m]=l[m].slice(1,-1))}for(let m=0,g=l.length;m<g;m++)if(""!==l[m]){if(e=e[l[m]],"undefined"===typeof e)return s;if(null===e)return null}return e||s}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}s(57658);const o=/[&<>"']/,r=new RegExp(o.source,"g"),n=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,l=new RegExp(n.source,"g"),p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=e=>p[e];function u(e,t){if(t){if(o.test(e))return e.replace(r,d)}else if(n.test(e))return e.replace(l,d);return e}e.exports={getDeepValue:a,hasProperty:i,escapeHTML:u}},61849:function(e,t,s){"use strict";s.d(t,{f:function(){return o}});var a=s(49199),i=s(87139);function o(e,t){const s=(0,i.oR)(),o=(0,a.f3)("$socket");(0,a.bv)((()=>{o&&(o.on("msg-input:"+e,(a=>{"enabled"in a&&(console.log("setting enabled"),s.commit("ui/widgetState",{widgetId:e,enabled:a.enabled})),"visible"in a&&s.commit("ui/widgetState",{widgetId:e,visible:a.visible}),t?t(a):s.commit("data/bind",{widgetId:e,msg:a})})),o.emit("widget-load",e))})),(0,a.SK)((()=>{o?.off("msg-input:"+e)}))}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,s,a,i){if(!s){var o=1/0;for(p=0;p<e.length;p++){s=e[p][0],a=e[p][1],i=e[p][2];for(var r=!0,n=0;n<s.length;n++)(!1&i||o>=i)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](s[n])}))?s.splice(n--,1):(r=!1,i<o&&(o=i));if(r){e.splice(p--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[s,a,i]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var s in t)__webpack_require__.o(t,s)&&!__webpack_require__.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,s){return __webpack_require__.f[s](e,t),t}),[]))}}(),function(){__webpack_require__.u=function(e){return"js/"+e+"."+{31:"e67879de",113:"c861de21",125:"5da872b1",155:"94174802",237:"8254e460",246:"6da01d58",306:"6e1efcc9",319:"c83c3081",339:"d107ee35",438:"e4199459",453:"c4a96d82",456:"0bf645ac",476:"87b662a0",555:"b9ba2c17",594:"b25ab944",652:"d15b6307",655:"2dfcd0cd",701:"3883fba1",748:"1d4b1c4b",750:"5a1029ab",753:"02049cf3",850:"f706da30",861:"89cc6f77",866:"253280e7",874:"b027c2ed",910:"e5225f53",994:"15be71ce"}[e]+".js"}}(),function(){__webpack_require__.miniCssF=function(e){}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="@flowforge/node-red-dashboard:";__webpack_require__.l=function(s,a,i,o){if(e[s])e[s].push(a);else{var r,n;if(void 0!==i)for(var l=document.getElementsByTagName("script"),p=0;p<l.length;p++){var d=l[p];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+i){r=d;break}}r||(n=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,__webpack_require__.nc&&r.setAttribute("nonce",__webpack_require__.nc),r.setAttribute("data-webpack",t+i),r.src=s),e[s]=[a];var u=function(t,a){r.onerror=r.onload=null,clearTimeout(c);var i=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(a)})),t)return t(a)},c=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),n&&document.head.appendChild(r)}}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p=""}(),function(){var e={143:0};__webpack_require__.f.j=function(t,s){var a=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var i=new Promise((function(s,i){a=e[t]=[s,i]}));s.push(a[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),r=new Error,n=function(s){if(__webpack_require__.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",r.name="ChunkLoadError",r.type=i,r.request=o,a[1](r)}};__webpack_require__.l(o,n,"chunk-"+t,t)}},__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,o=s[0],r=s[1],n=s[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)__webpack_require__.o(r,a)&&(__webpack_require__.m[a]=r[a]);if(n)var p=n(__webpack_require__)}for(t&&t(s);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(p)},s=self["webpackChunk_flowforge_node_red_dashboard"]=self["webpackChunk_flowforge_node_red_dashboard"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(54283)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.53f76619.js.map